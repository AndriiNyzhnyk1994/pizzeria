{"version":3,"file":"static/js/464.d1320ed8.chunk.js","mappings":"sKACA,QAA0B,2BAA1B,EAAgE,4BAAhE,EAAoG,yBAApG,EAA0I,8BAA1I,EAAoL,6BAApL,EAA+N,+BAA/N,EAA2Q,8BAA3Q,EAAiT,yB,+BCOjT,MA6DA,EA7D4BA,KAExB,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,OAGX,GAAEC,IAAOC,EAAAA,EAAAA,OAKRC,EAAWC,IAAgBC,EAAAA,EAAAA,YAsBlC,OAdAC,EAAAA,EAAAA,YAAU,MACNC,iBACI,IACI,MAAM,KAAEC,SAAeC,EAAAA,EAAMC,IAAI,qDAADC,OAAsDV,IACtFG,EAAaI,EACjB,CAAE,MAAOI,GACLC,MAAM,UAAYD,GAClBb,EAAS,IAEb,CACJ,CACAe,EAAY,GACb,IAEEX,GAMDY,EAAAA,EAAAA,MAAA,OAAKC,UAAS,aAAAL,OAAeM,GAAYC,SAAA,EACrCC,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAAQC,SAAGf,EAAUiB,SACpCL,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAaC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,OAAKH,UAAWC,EAAYI,IAAKlB,EAAUmB,YAC3CP,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAYC,SAAA,EACxBC,EAAAA,EAAAA,KAAA,KAAGH,UAAWC,EAAcC,SAAEf,EAAUoB,eACxCR,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAaC,SAAA,EACzBC,EAAAA,EAAAA,KAAA,UAAQK,QAjCXC,IACPtB,EAAYN,GAAS6B,EAAAA,EAAAA,IAAQvB,IAAc,GAgCNa,UAAU,qCAAoCE,SAAC,wGAC1EH,EAAAA,EAAAA,MAAA,MAAIC,UAAWC,EAAQC,SAAA,CAAEf,EAAUwB,MAAM,iBAKrDR,EAAAA,EAAAA,KAACS,EAAAA,GAAI,CAACC,GAAI,IAAIX,UACVC,EAAAA,EAAAA,KAAA,UAAQH,UAAU,qCAAoCE,UAClDC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,2CApBXC,EAAAA,EAAAA,KAAAW,EAAAA,SAAA,CAAAZ,SAAE,cAuBH,C","sources":["webpack://pizzeria/./src/pages/FullPizza.module.scss?6d64","pages/FullPizza.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"FullPizza_wrapper__S-kqB\",\"pizzaImg\":\"FullPizza_pizzaImg__BLhdk\",\"title\":\"FullPizza_title__0E7GD\",\"pizzaBlock\":\"FullPizza_pizzaBlock__uuRVC\",\"pizzaInfo\":\"FullPizza_pizzaInfo__8ohUH\",\"description\":\"FullPizza_description__mtKxM\",\"buyOptions\":\"FullPizza_buyOptions__7ZAjS\",\"price\":\"FullPizza_price__g1lXM\"};","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Link, useNavigate, useParams } from 'react-router-dom';\r\nimport s from './FullPizza.module.scss'\r\nimport { useDispatch } from 'react-redux';\r\nimport { addItem } from '../redux/slices/cart/slice';\r\nimport { CartItemType } from '../redux/slices/cart/types';\r\n\r\nconst FullPizza: React.FC = () => {\r\n\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    // useNavigate - хук библиотеки React-Router,\r\n    // который позволяет менять адресную строку через код\r\n    const { id } = useParams()\r\n    // useParams оповещает браузер, что нужно сделать перерисовку \r\n    // компонента при смене параметра в адресной строке\r\n    // + возвращает обьект с параметрами, которые мы указали при создании Route\r\n\r\n    const [pizzaData, setPizzaData] = useState<CartItemType>()\r\n\r\n    const addPizza = () => {\r\n       return pizzaData ? dispatch(addItem(pizzaData)) : ''\r\n    }\r\n\r\n    \r\n    \r\n    useEffect(() => {\r\n        async function fetchPizza() {\r\n            try {\r\n                const { data } = await axios.get(`https://653db286f52310ee6a9a45a9.mockapi.io/items/${id}`)\r\n                setPizzaData(data)\r\n            } catch (error) {\r\n                alert('Error: ' + error)\r\n                navigate('/')\r\n                // navigate нужен для перехода на главную страницу в случае ошибки\r\n            }\r\n        }\r\n        fetchPizza()\r\n    }, [])\r\n\r\n    if (!pizzaData) {\r\n        return <>Loading...</>\r\n    }\r\n\r\n    \r\n    return (\r\n        <div className={`container ${s.wrapper}`}>\r\n            <h2 className={s.title} >{pizzaData.title}</h2>\r\n            <div className={s.pizzaBlock}>\r\n                <img className={s.pizzaImg} src={pizzaData.imageUrl} />\r\n                <div className={s.pizzaInfo}>\r\n                    <p className={s.description}>{pizzaData.description}</p>\r\n                    <div className={s.buyOptions}>\r\n                        <button onClick={addPizza} className='button button--outline button--add'>Добавить в корзину</button>\r\n                        <h4 className={s.price}>{pizzaData.price}$</h4>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <Link to={'/'}>\r\n                <button className=\"button button--outline button--add\">\r\n                    <span>Назад</span>\r\n                </button>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FullPizza"],"names":["FullPizza","dispatch","useDispatch","navigate","useNavigate","id","useParams","pizzaData","setPizzaData","useState","useEffect","async","data","axios","get","concat","error","alert","fetchPizza","_jsxs","className","s","children","_jsx","title","src","imageUrl","description","onClick","addPizza","addItem","price","Link","to","_Fragment"],"sourceRoot":""}